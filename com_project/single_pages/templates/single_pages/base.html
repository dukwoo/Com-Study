<!DOCTYPE html>
{% load static %}
<html lang="kor">
<head>
  <meta charset="UTF-8">
  <title>오늘의 글귀</title>

  <!--url-->
  <!--<meta name="author" content="BBangdang">
  <meta name="keywords" content="동물 테스트, 동물 성격 유형, 회사 생활로 알아보는 동물 테스트">
  <meta name="description" content="동물 성격 유형 테스트: 회사 생활로 알아보는 내게 어울리는 동물">

  <meta property="og:type" content="website">
  <meta property="og:title" content="회사 생활로 알아보는 8가지 질문">
  <meta property="og:description" content="사람들이 보는 나는 어떤 동물일까?">

  <meta property="og:image" content="img/미어캣.png">
  <meta property="og:url" content="https://dukwoo.github.io/personality-test/">
  -->

  <!--title-logo-image-->
  <link rel="shortcut icon" type="text/css" href="{% static 'single_pages/images/titleimg.png' %}">
  <link rel="appel-touch-icon-precomposed" href="{% static 'single_pages/images/titleimg.png' %}">

  <!--bootstrap&css-->
  <link rel="stylesheet" href="{% static 'single_pages/bootstrap/bootstrap.min.css' %}" media="screen">
  <link rel="stylesheet" href="{% static 'single_pages/css/today_word.css' %}" media="screen">

  <!--구글 글씨체 적용-->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">

  <!--font-aweasome-->
  <script src="https://kit.fontawesome.com/4352f6a6dc.js" crossorigin="anonymous"></script>

  <!--jQuery-->
  <script src="http://code.jquery.com/jquery-latest.js"></script>

  {% block tw_script %}
  {% endblock %}

</head>
<body>

  <!--navbar-->
  {% include 'single_pages/navbar.html' %}

  {% block main_area %}

  {% endblock %}

  <!--bootstrap.js-->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>

  <!--darkmode-->
  <script>
    let flag = false; //var 안쓰고, let, const ?
    const head = document.getElementsByTagName('head')[0]; //head가 여러 개

    const dark_css = document.createElement('link'); //만든 후에 부모 객체에 추가해야만 나타남.
    dark_css.rel = 'stylesheet';
    dark_css.type = 'text/css';
    dark_css.href = '/static/single_pages/css/darkmode.css'; //스타일 파일 이름. '/' 경로를 의미.

    /* list */
    const user =  document.getElementById('user');
    const nav = document.getElementById('nav');
    const foot = document.getElementById('foot');
    const fText = document.getElementById('footText');

    /* detail */
    const foods = document.getElementsByClassName('foods');

    // 함수 생성.
    const goDark = () => {
        flag = true; //여기선 true, 여기 밖에선 false 로
        head.appendChild(dark_css); //head 부모 객체에 link 자식 객체 추가.

        user.style.color = "white";
        for (let i=0; i<foods.length; i++) {
          foods[i].style.color = "white";
        }

        nav.classList.replace('bg-white', 'bg-dark');
        nav.classList.replace('navbar-light', 'navbar-dark');

        foot.classList.replace('bg-white', 'bg-dark');
        fText.classList.replace('text-dark','text-white');
    }

    const goLight = () => {
        flag = false;
        if (head.lastChild === dark_css) {
            head.removeChild(dark_css);
        }

        user.style.color = "black";
        for (let i=0; i<foods.length; i++) {
          foods[i].style.color = "black";
        }

        nav.classList.replace('bg-dark', 'bg-white');
        nav.classList.replace('navbar-dark', 'navbar-light');

        foot.classList.replace('bg-dark', 'bg-white');
        fText.classList.replace('text-white','text-dark');
    }

    const isDarkMode = () => {
        (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) ? goDark() : goLight();
        // 조건 연산 => 조건문 ? true일 경우 실행 : false일 경우 실행.
    }

    const switchMode = () => flag ? goLight() : goDark();

  </script>

  {% block tw_js %}
  {% endblock %}

</body>
</html>